document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("inputMetaSource"),t=document.getElementById("outputMetaDesc"),n=document.getElementById("btnGenerateMetaDesc");e&&t&&n&&n.addEventListener("click",function(){t.value=function(e){if(!e)return"";const t=e.replace(/\s+/g," ").trim();if(t.length<=160)return t;let n=t.slice(0,160);const c=n.lastIndexOf(" ");return c>80&&(n=n.slice(0,c)),n.replace(/[.,;:!?-]*$/,"")+"..."}(e.value||"")})});