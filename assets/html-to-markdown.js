document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("inputHtmlToMd"),n=document.getElementById("outputHtmlToMd"),l=document.getElementById("btnHtmlToMarkdown");e&&n&&l&&l.addEventListener("click",function(){n.value=function(e){if(!e)return"";let n=e;return n=n.replace(/\r\n/g,"\n"),n=n.replace(/<h1[^>]*>([\s\S]*?)<\/h1>/gi,"# $1\n\n"),n=n.replace(/<h2[^>]*>([\s\S]*?)<\/h2>/gi,"## $1\n\n"),n=n.replace(/<h3[^>]*>([\s\S]*?)<\/h3>/gi,"### $1\n\n"),n=n.replace(/<h4[^>]*>([\s\S]*?)<\/h4>/gi,"#### $1\n\n"),n=n.replace(/<h5[^>]*>([\s\S]*?)<\/h5>/gi,"##### $1\n\n"),n=n.replace(/<h6[^>]*>([\s\S]*?)<\/h6>/gi,"###### $1\n\n"),n=n.replace(/<(strong|b)[^>]*>([\s\S]*?)<\/\1>/gi,"**$2**"),n=n.replace(/<(em|i)[^>]*>([\s\S]*?)<\/\1>/gi,"*$2*"),n=n.replace(/<code[^>]*>([\s\S]*?)<\/code>/gi,"`$1`"),n=n.replace(/<a[^>]*href=["']([^"']+)["'][^>]*>([\s\S]*?)<\/a>/gi,"[$2]($1)"),n=n.replace(/<br\s*\/?>/gi,"\n"),n=n.replace(/<li[^>]*>([\s\S]*?)<\/li>/gi,"- $1\n"),n=n.replace(/<\/?(ul|ol)[^>]*>/gi,"\n"),n=n.replace(/<p[^>]*>([\s\S]*?)<\/p>/gi,"$1\n\n"),n=n.replace(/<\/?[^>]+>/g,""),n=n.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'"),n=n.replace(/\n{3,}/g,"\n\n"),n.trim()}(e.value||"")})});